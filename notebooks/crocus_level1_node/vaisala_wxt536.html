

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Read Data from a Vaisala WXT536 &#8212; CROCUS Instrument Cookbooks</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/crocus_level1_node/vaisala_wxt536';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Read Data from the Doppler Lidar" href="../doppler-lidar/read-doppler-lidar.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../README.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/CROCUS_Logo.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/CROCUS_Logo.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../README.html">
                    CROCUS Instrument Cookbooks
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Access</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../data-access.html">Data Access</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quick Looks (Recent Data)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../quicklooks/ceilometer.html">Ceilometer Quicklooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quicklooks/current-weather.html">Current Weather Quicklooks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Transformation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../data-transformation/transform-wxt-data-xarray.html">Transform Weather Sensor Data from Waggle to an Xarray Dataset + Plot with ACT</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Ambient Weather Stations</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ambient-weather/read-ambient-data.html">Read, Process, and Visualize Ambient Weather Station Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ambient-weather/visualize-past-obs.html">Visualize Latest Observations from the Ambient Weather Stations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Doppler Lidar</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../doppler-lidar/read-doppler-lidar.html">Read Data from the Doppler Lidar</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">CROCUS Level 1 Node</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Read Data from a Vaisala WXT536</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="http://binder.mypythia.org/v2/gh/CROCUS-Urban/instrument-cookbooks/main?urlpath=lab/tree/notebooks/notebooks/crocus_level1_node/vaisala_wxt536.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://jupyter-open.olcf.ornl.gov/hub/user-redirect/git-pull?repo=https%3A//github.com/CROCUS-Urban/instrument-cookbooks&urlpath=lab/tree/instrument-cookbooks/notebooks/notebooks/crocus_level1_node/vaisala_wxt536.ipynb&branch=main" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onJupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/notebooks/crocus_level1_node/vaisala_wxt536.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Read Data from a Vaisala WXT536</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interact-with-wxt-536-data">Interact with WXT-536 Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#investigate-the-dataset">Investigate the Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#display-diurnal-temperature-cycle">Display Diurnal Temperature Cycle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-your-selected-dataset">Save Your Selected Dataset</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="read-data-from-a-vaisala-wxt536">
<h1>Read Data from a Vaisala WXT536<a class="headerlink" href="#read-data-from-a-vaisala-wxt536" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sage_data_client</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">matplotlib.dates</span> <span class="kn">import</span> <span class="n">DateFormatter</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<p><a class="reference internal" href="../../_images/Vaisala_WXT536.jpeg"><img alt="Vaisala_WXT536" src="../../_images/Vaisala_WXT536.jpeg" style="width: 250px;" /></a></img></p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<p>The Vaisala WXT536 is an multi-parameter weather sensor that measures atmospheric temperatures, pressure, humdity, wind speed and direction, and precipitation.</p>
<p>High quality atmospheric observations allow for understanding of the environmental conditions at the location of the instrument, and allow us to estimate transport of gas and particles through the atmosphere.</p>
<p>In combination with additional sensors attached to a CROCUS Level 1 Node, we are then able to evaluate the concentration of pollutants at the node, the transport of these pollutants into and out of the area of the node, and estimate removal of these pollutants from the atmosphere from preciptiation.</p>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">#</a></h2>
<p>All WXT-536s are installed into a Waggle Edge Computing server as apart of CROCUS’s Level 1 Nodes.</p>
<p>The Waggle Edge Computing server allows for real-time modification of sensors parameters and dynamical modification of data through edge processing codes.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Concepts</p></th>
<th class="head"><p>Importance</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/waggle-sensor">Intro to Waggle Sensors</a></p></td>
<td><p>Helpful</p></td>
<td><p>Familiarity with Waggle Sensors</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/sagecontinuum/sage-data-client">Waggle/Sage Data Client</a></p></td>
<td><p>Necessary</p></td>
<td><p>Accessing Data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://foundations.projectpythia.org/core/pandas.html">Working with Pandas Dataframes</a></p></td>
<td><p>Necessary</p></td>
<td><p>Understanding Data Object</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><strong>Time to Learn</strong>: 60 minutes</p></li>
</ul>
</section>
<section id="interact-with-wxt-536-data">
<h2>Interact with WXT-536 Data<a class="headerlink" href="#interact-with-wxt-536-data" title="Permalink to this heading">#</a></h2>
<p>We will be accessing data from a CROCUS Level 1 Node (W057), which is located at the Argonne Testbed for Multiscale Observational Science (ATMOS)</p>
<p><a class="reference internal" href="../../_images/CROCUS_Level1_Node_WXT.jpeg"><img alt="CROCUS Level 1 Node (W057)" src="../../_images/CROCUS_Level1_Node_WXT.jpeg" style="width: 250px;" /></a></img></p>
<p>ATMOS serves as a long term observational site and allows for testing equipment before deployment across the CROCUS domain</p>
<p>Please check the <a class="reference external" href="https://portal.sagecontinuum.org/node/000048B02D3AE336">Waggle Node 57 User Interface</a> to determine if the <em>vaisala-wxt536</em> plugin is working</p>
<p>The <a class="reference external" href="https://github.com/jrobrien91/waggle-wxt536">vaisala-wxt536 plugin</a> allows for the Waggle Sensor to interpret data sent from the instrument to the Waggle Node and transit this data to cloud storage for investigation.</p>
<p>To Query data from a Waggle Sensor, we will need:</p>
<ol class="arabic simple">
<li><p>Start of time period we are interested in (YYYY-MM-DDTHH:MM:SSZ format)</p></li>
<li><p>End of time period we are interested in (YYYY-MM-DDTHH:MM:SSZ format)</p></li>
<li><p>Plugin Name (e.g. waggle-wxt536)</p></li>
<li><p>Waggle Node Number (e.g. W057)</p></li>
<li><p>Sensor Name (e.g. ‘vaisala-wxt536’)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Query the SAGE data client to access the data</span>
<span class="c1"># Note: We need to know the time period we are interested in</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">sage_data_client</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;2023-04-10T12:00:00Z&quot;</span><span class="p">,</span>
                            <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2023-04-10T13:00:00Z&quot;</span><span class="p">,</span> 
                            <span class="nb">filter</span><span class="o">=</span><span class="p">{</span>
                                <span class="s2">&quot;vsn&quot;</span><span class="p">:</span> <span class="s2">&quot;W057&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;sensor&quot;</span><span class="p">:</span> <span class="s2">&quot;vaisala-wxt536&quot;</span>
                            <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamp</th>
      <th>name</th>
      <th>value</th>
      <th>meta.host</th>
      <th>meta.job</th>
      <th>meta.missing</th>
      <th>meta.node</th>
      <th>meta.plugin</th>
      <th>meta.sensor</th>
      <th>meta.task</th>
      <th>meta.units</th>
      <th>meta.vsn</th>
      <th>meta.zone</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-04-10 12:00:00.030623851+00:00</td>
      <td>wxt.env.humidity</td>
      <td>48.8</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>percent</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2023-04-10 12:00:00.110927910+00:00</td>
      <td>wxt.env.humidity</td>
      <td>48.8</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>percent</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2023-04-10 12:00:00.185660209+00:00</td>
      <td>wxt.env.humidity</td>
      <td>48.8</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>percent</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023-04-10 12:00:00.259648308+00:00</td>
      <td>wxt.env.humidity</td>
      <td>48.8</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>percent</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023-04-10 12:00:00.339504875+00:00</td>
      <td>wxt.env.humidity</td>
      <td>48.8</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>percent</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>381107</th>
      <td>2023-04-10 12:59:59.699540132+00:00</td>
      <td>wxt.wind.speed</td>
      <td>1.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>meters per second</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>381108</th>
      <td>2023-04-10 12:59:59.774177079+00:00</td>
      <td>wxt.wind.speed</td>
      <td>1.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>meters per second</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>381109</th>
      <td>2023-04-10 12:59:59.848843626+00:00</td>
      <td>wxt.wind.speed</td>
      <td>1.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>meters per second</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>381110</th>
      <td>2023-04-10 12:59:59.922973433+00:00</td>
      <td>wxt.wind.speed</td>
      <td>1.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>meters per second</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>381111</th>
      <td>2023-04-10 12:59:59.996916134+00:00</td>
      <td>wxt.wind.speed</td>
      <td>1.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>meters per second</td>
      <td>W057</td>
      <td>core</td>
    </tr>
  </tbody>
</table>
<p>381112 rows × 13 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Detemine the number of rows within the dataset</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=381112, step=1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Determine number of columns within dataset</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;timestamp&#39;, &#39;name&#39;, &#39;value&#39;, &#39;meta.host&#39;, &#39;meta.job&#39;, &#39;meta.missing&#39;,
       &#39;meta.node&#39;, &#39;meta.plugin&#39;, &#39;meta.sensor&#39;, &#39;meta.task&#39;, &#39;meta.units&#39;,
       &#39;meta.vsn&#39;, &#39;meta.zone&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Determine the number of unique measurements within &#39;name&#39; column</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;wxt.rain.accumulation&#39;, &#39;wxt.env.temp&#39;, &#39;wxt.env.humidity&#39;, &#39;wxt.heater.temp&#39;, &#39;wxt.wind.direction&#39;, &#39;wxt.wind.speed&#39;, &#39;wxt.heater.volt&#39;, &#39;wxt.env.pressure&#39;}
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-danger">
<p class="admonition-title">Danger</p>
<p>Data will only be returned for valid dates. Otherwise, dataframe object will contain nothing</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Query the SAGE data client to access the data</span>
<span class="c1"># Note: We need to know the time period we are interested in</span>
<span class="n">no_data_df</span> <span class="o">=</span> <span class="n">sage_data_client</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;2099-04-10T12:00:00Z&quot;</span><span class="p">,</span>
                                    <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2099-04-10T15:00:00Z&quot;</span><span class="p">,</span> 
                                    <span class="nb">filter</span><span class="o">=</span><span class="p">{</span>
                                        <span class="s2">&quot;plugin&quot;</span><span class="p">:</span> <span class="s2">&quot;10.31.81.1:5000/local/waggle-wxt536&quot;</span><span class="p">,</span>
                                        <span class="s2">&quot;vsn&quot;</span><span class="p">:</span> <span class="s2">&quot;W057&quot;</span><span class="p">,</span>
                                        <span class="s2">&quot;sensor&quot;</span><span class="p">:</span> <span class="s2">&quot;vaisala-wxt536&quot;</span>
                                    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">no_data_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamp</th>
      <th>name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="investigate-the-dataset">
<h2>Investigate the Dataset<a class="headerlink" href="#investigate-the-dataset" title="Permalink to this heading">#</a></h2>
<p>To investigate the dataset, it is helpful to know how to access specific rows or columns within the data</p>
<p>We will then display the ambient temperature of the dataset, in coordination with wind speed and direction</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># isolate the environmental temperature data</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;wxt.env.temp&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamp</th>
      <th>name</th>
      <th>value</th>
      <th>meta.host</th>
      <th>meta.job</th>
      <th>meta.missing</th>
      <th>meta.node</th>
      <th>meta.plugin</th>
      <th>meta.sensor</th>
      <th>meta.task</th>
      <th>meta.units</th>
      <th>meta.vsn</th>
      <th>meta.zone</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>95278</th>
      <td>2023-04-10 12:00:00.030623851+00:00</td>
      <td>wxt.env.temp</td>
      <td>8.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>95279</th>
      <td>2023-04-10 12:00:00.110927910+00:00</td>
      <td>wxt.env.temp</td>
      <td>8.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>95280</th>
      <td>2023-04-10 12:00:00.185660209+00:00</td>
      <td>wxt.env.temp</td>
      <td>8.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>95281</th>
      <td>2023-04-10 12:00:00.259648308+00:00</td>
      <td>wxt.env.temp</td>
      <td>8.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>95282</th>
      <td>2023-04-10 12:00:00.339504875+00:00</td>
      <td>wxt.env.temp</td>
      <td>8.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>142912</th>
      <td>2023-04-10 12:59:59.699540132+00:00</td>
      <td>wxt.env.temp</td>
      <td>11.1</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>142913</th>
      <td>2023-04-10 12:59:59.774177079+00:00</td>
      <td>wxt.env.temp</td>
      <td>11.1</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>142914</th>
      <td>2023-04-10 12:59:59.848843626+00:00</td>
      <td>wxt.env.temp</td>
      <td>11.1</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>142915</th>
      <td>2023-04-10 12:59:59.922973433+00:00</td>
      <td>wxt.env.temp</td>
      <td>11.1</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>142916</th>
      <td>2023-04-10 12:59:59.996916134+00:00</td>
      <td>wxt.env.temp</td>
      <td>11.1</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
  </tbody>
</table>
<p>47639 rows × 13 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Define Format of how the date is displayed</span>
<span class="n">date_form</span> <span class="o">=</span> <span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> </span><span class="se">\n</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>

<span class="c1"># Note: Use the Pandas DataFrame &#39;loc&#39; functionality to search the object for the ambient temp</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;wxt.env.temp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;timestamp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
                                           <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;UTC Time </span><span class="se">\n</span><span class="s1"> [HH:MM:SS]&#39;</span><span class="p">,</span>
                                           <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Ambient Temperature </span><span class="se">\n</span><span class="s1"> [Degree Celsius]&#39;</span><span class="p">,</span>
                                           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CROCUS Level 1 Node (W057) - Vaisala WXT536&#39;</span><span class="p">,</span>
                                           <span class="n">ax</span><span class="o">=</span><span class="n">axs</span>
                                          <span class="p">)</span>

<span class="n">axs</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">date_form</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/e8f6aab5bef2a3b26d9b8530d5176832bd3141c6bcf335452fcb1b5e34557146.png" src="../../_images/e8f6aab5bef2a3b26d9b8530d5176832bd3141c6bcf335452fcb1b5e34557146.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Define Format of how the date is displayed</span>
<span class="n">date_form</span> <span class="o">=</span> <span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> </span><span class="se">\n</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>

<span class="c1"># Note: Use the Pandas DataFrame &#39;loc&#39; functionality to search the object for the ambient temp</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;wxt.wind.speed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;timestamp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
                                           <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;UTC Time </span><span class="se">\n</span><span class="s1"> [HH:MM:SS]&#39;</span><span class="p">,</span>
                                           <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Wind Speed </span><span class="se">\n</span><span class="s1"> [meters per second]&#39;</span><span class="p">,</span>
                                           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CROCUS Level 1 Node (W057) - Vaisala WXT536&#39;</span><span class="p">,</span>
                                           <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">,</span>
                                           <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C0&#39;</span>
                                          <span class="p">)</span>
<span class="c1"># Set the left hand y-axis label and color to match variable displayed</span>
<span class="n">axs</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Wind Speed </span><span class="se">\n</span><span class="s1"> [meters per second]&#39;</span><span class="p">,</span> 
               <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C0&#39;</span><span class="p">,</span>
               <span class="p">)</span>
<span class="c1"># Change left hand y-axis tick colors to match variable displayed</span>
<span class="n">axs</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s1">&#39;C0&#39;</span><span class="p">)</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>  <span class="c1"># instantiate a second axes that shares the same x-axis</span>

<span class="c1"># Note: Use the Pandas DataFrame &#39;loc&#39; functionality to search the object for the ambient temp</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;wxt.wind.direction&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;timestamp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
                                                <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;UTC Time </span><span class="se">\n</span><span class="s1"> [HH:MM:SS]&#39;</span><span class="p">,</span>
                                                <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CROCUS Level 1 Node (W057) - Vaisala WXT536&#39;</span><span class="p">,</span>
                                                <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span>
                                                <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span>
                                               <span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Wind Direction </span><span class="se">\n</span><span class="s1"> [Degrees from North]&#39;</span><span class="p">,</span> 
               <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span>
               <span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span>

<span class="n">axs</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">date_form</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/855ecfc5751aa5f4da8dd2278baff345f4d3aca9fd4d30866c0100618befaafd.png" src="../../_images/855ecfc5751aa5f4da8dd2278baff345f4d3aca9fd4d30866c0100618befaafd.png" />
</div>
</div>
</section>
<section id="display-diurnal-temperature-cycle">
<h2>Display Diurnal Temperature Cycle<a class="headerlink" href="#display-diurnal-temperature-cycle" title="Permalink to this heading">#</a></h2>
<p>Let’s Grab all temperature data available to visualize the daily cycle</p>
<div class="admonition alert alert-info">
<p class="admonition-title">Info</p>
<p>If you are only interested in a specific measurement,
you can also query specific variables using the ‘name’ filter</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Query the SAGE data client to access the data; use &#39;name&#39; filter</span>

<span class="n">df_temp</span> <span class="o">=</span> <span class="n">sage_data_client</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;2023-04-09T00:00:00Z&quot;</span><span class="p">,</span>
                                 <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2023-04-10T00:00:00Z&quot;</span><span class="p">,</span> 
                                    <span class="nb">filter</span><span class="o">=</span><span class="p">{</span>
                                        <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s1">&#39;wxt.env.temp&#39;</span><span class="p">,</span>
                                        <span class="s2">&quot;vsn&quot;</span> <span class="p">:</span> <span class="s2">&quot;W057&quot;</span><span class="p">,</span>
                                        <span class="s2">&quot;sensor&quot;</span> <span class="p">:</span> <span class="s2">&quot;vaisala-wxt536&quot;</span>
                                    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_temp</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamp</th>
      <th>name</th>
      <th>value</th>
      <th>meta.host</th>
      <th>meta.job</th>
      <th>meta.missing</th>
      <th>meta.node</th>
      <th>meta.plugin</th>
      <th>meta.sensor</th>
      <th>meta.task</th>
      <th>meta.units</th>
      <th>meta.vsn</th>
      <th>meta.zone</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-04-09 00:00:00.067928914+00:00</td>
      <td>wxt.env.temp</td>
      <td>14.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2023-04-09 00:00:00.141564285+00:00</td>
      <td>wxt.env.temp</td>
      <td>14.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2023-04-09 00:00:00.220146207+00:00</td>
      <td>wxt.env.temp</td>
      <td>14.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023-04-09 00:00:00.300329683+00:00</td>
      <td>wxt.env.temp</td>
      <td>14.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023-04-09 00:00:00.374312322+00:00</td>
      <td>wxt.env.temp</td>
      <td>14.4</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1143683</th>
      <td>2023-04-09 23:59:59.694080255+00:00</td>
      <td>wxt.env.temp</td>
      <td>16.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>1143684</th>
      <td>2023-04-09 23:59:59.768710002+00:00</td>
      <td>wxt.env.temp</td>
      <td>16.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>1143685</th>
      <td>2023-04-09 23:59:59.843372677+00:00</td>
      <td>wxt.env.temp</td>
      <td>16.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>1143686</th>
      <td>2023-04-09 23:59:59.924947588+00:00</td>
      <td>wxt.env.temp</td>
      <td>16.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
    <tr>
      <th>1143687</th>
      <td>2023-04-09 23:59:59.999351284+00:00</td>
      <td>wxt.env.temp</td>
      <td>16.6</td>
      <td>000048b02d3ae336.ws-nxcore</td>
      <td>Pluginctl</td>
      <td>-9999.9</td>
      <td>000048b02d3ae336</td>
      <td>10.31.81.1:5000/local/waggle-wxt536</td>
      <td>vaisala-wxt536</td>
      <td>wxt-536</td>
      <td>degree Celsius</td>
      <td>W057</td>
      <td>core</td>
    </tr>
  </tbody>
</table>
<p>1143688 rows × 13 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Define Format of how the date is displayed</span>
<span class="n">date_form</span> <span class="o">=</span> <span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> </span><span class="se">\n</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>

<span class="c1"># Note: Use the Pandas DataFrame &#39;loc&#39; functionality to search the object for the ambient temp</span>
<span class="n">df_temp</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;timestamp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;UTC Time </span><span class="se">\n</span><span class="s1"> [HH:MM:SS]&#39;</span><span class="p">,</span>
                                          <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Ambient Temperature </span><span class="se">\n</span><span class="s1"> [Degree Celsius]&#39;</span><span class="p">,</span>
                                          <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CROCUS Level 1 Node (W057) - Vaisala WXT536&#39;</span><span class="p">,</span>
                                          <span class="n">ax</span><span class="o">=</span><span class="n">axs</span>
                                          <span class="p">)</span>

<span class="n">axs</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">date_form</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/1650ea4cbb785b1c90d2fba187c2559d7c4f82d4272d3a56c87fe9c35c91f177.png" src="../../_images/1650ea4cbb785b1c90d2fba187c2559d7c4f82d4272d3a56c87fe9c35c91f177.png" />
</div>
</div>
</section>
<section id="save-your-selected-dataset">
<h2>Save Your Selected Dataset<a class="headerlink" href="#save-your-selected-dataset" title="Permalink to this heading">#</a></h2>
<div class="admonition alert alert-warning">
<p class="admonition-title">Warning</p>
<p>Be careful! Saving data in a comma separated values (CSV) file format takes up a lot of space!</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instead of saving every value explored previously, I am just going to save the variable I am interested in (i.e. temperature)</span>
<span class="c1"># Comma Separated Values (CSV) files are common text files that can be read with any text editor (or Microsoft Excel / Mac Numbers)</span>
<span class="n">df_temp</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;wxt536_W057_ambient_temp.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s check the size of that file using simple unix commands</span>
<span class="o">!</span>ls<span class="w"> </span>-lh<span class="w"> </span><span class="s1">&#39;wxt536_W057_ambient_temp.csv&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-rw-r--r-- 1 runner docker 226M May 12 18:04 wxt536_W057_ambient_temp.csv
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>225M MB is a large file for just one environmental parameter.</p></li>
<li><p>It would be much larger if we saved all the observations for an hour (or day, or week, or month, etc)</p></li>
</ul>
<div class="admonition alert alert-info">
<p class="admonition-title">Info</p>
<p>Pandas DataFrames support multiple file formats for saving data, including binary Parquet files. This allows us to compress the data and save space</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_temp</span><span class="o">.</span><span class="n">to_parquet</span><span class="p">(</span><span class="s1">&#39;wxt536_W057_ambient_temp.parquet&#39;</span><span class="p">,</span>
                   <span class="n">use_deprecated_int96_timestamps</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s check the size of the parquet file</span>
<span class="o">!</span>ls<span class="w"> </span>-lh<span class="w"> </span><span class="s1">&#39;wxt536_W057_ambient_temp.parquet&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-rw-r--r-- 1 runner docker 7.9M May 12 18:04 wxt536_W057_ambient_temp.parquet
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Only 8MB saving the same data as this format!</p></li>
<li><p>Less than 4% of the space taken up by the same data in CSV format!</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/crocus_level1_node"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../doppler-lidar/read-doppler-lidar.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Read Data from the Doppler Lidar</p>
      </div>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interact-with-wxt-536-data">Interact with WXT-536 Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#investigate-the-dataset">Investigate the Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#display-diurnal-temperature-cycle">Display Diurnal Temperature Cycle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-your-selected-dataset">Save Your Selected Dataset</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By CROCUS Measurement Strategy Team
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>